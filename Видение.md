# Видение
## Даты внесения изменений
| Версия | Дата | Описание | Автор|
--- | --- | --- | --- |
| Финальный вариант | 1 декабря, 2025 | Финальный вариант | Агафонов Артем |
## Введение
Мы видим современную высоконадежную систему мгновенного обмена сообщениями нового поколения, обеспечивающую:
гибкую поддержку различных пользовательских сценариев,
масштабируемую обработку сетевых подключений,
маршрутизацию сообщений в реальном времени,
поддержку различных клиентских платформ и интерфейсов,
интеграцию с внешними сервисами хранения, логирования и аналитики,
устойчивость к сетевым сбоям и возможность офлайн-доставки сообщений.
Анализ в данном документе носит иллюстративный характер и служит для демонстрации подхода к модельно-ориентированному анализу.
## Позиционирование
### Экономические предпосылки 
Существующие системы обмена сообщениями часто:
не обеспечивают гибкую настройку бизнес-правил (ограничение длины сообщения, фильтры, модерация, маршрутизация);
плохо масштабируются под высокую нагрузку;
не интегрируются с внешними системами аналитики, хранилищами или сервисами мониторинга;
не поддерживают различные сетевые модели (тонкий клиент, толстый клиент, микросервисная архитектура, облачные развёртывания);
нестабильно работают при временных потерях сети и не обеспечивают корректную офлайн-доставку;
не предоставляют развитых инструментов администрирования и контроля.
Негибкость и неуниверсальность существующих мессенджеров создают рыночную нишу для новой модульной системы обмена сообщениями.
### Формулировка проблемы 
Традиционные системы обмена сообщениями:
недостаточно устойчивы к сетевым сбоям,
не обеспечивают надёжную и гарантированную доставку сообщений,
плохо масштабируются,
не интегрируются с внешними корпоративными системами (аналитика, мониторинг, IAM),
не поддерживают продвинутые бизнес-правила,
затрудняют администрирование пользователей и безопасность.
Эти проблемы касаются рядовых пользователей, технических специалистов, системных администраторов и организаций, использующих коммуникационные системы.
### Место системы 
Система предназначена для:
частных пользователей,
компаний, которым требуется внутренняя система обмена сообщениями,
организаций с повышенными требованиями к безопасности и контролю,
поставщиков SaaS-решений.
Отличительные свойства системы:
модульность, расширяемость;
работа в режиме реального времени;
поддержка офлайн-доставки;
удобная серверная архитектура, рассчитанная на большие нагрузки;
гибкая настройка пользовательских и административных правил.
## Заинтересованные лица 
Необходимо определить участников, их задачи и основные проблемы.
### Заинтересованные лица:

**Обычные пользователи** — отправляют и получают сообщения.  

**Администраторы** — управляют пользователями, безопасностью и логами.  

**Организация-заказчик** — использует внутренний мессенджер.  

**Системы аналитики** — собирают статистику сообщений.  

**Система хранения данных (БД)** — хранит историю и профили пользователей.  

**Система логирования** — ведёт журнал событий.  

**Разработчики** — сопровождают и расширяют систему.

### Демографические особенности рынка

Молодые и взрослые пользователи мобильных устройств и ПК.

Корпоративная аудитория, нуждающаяся в защищённой связи.

Команды, работающие удалённо или распределённо.

Заинтересованные лица, не являющиеся пользователями, системные аналитики,
специалисты по кибербезопасности, инженеры эксплуатации.

### Пользователи системы

Зарегистрированные абоненты,
администраторы.

### Основные задачи высокого уровня и проблемы заинтересованных лиц 

| Цель высокого уровня | Приоритет | Проблемы и замечания | Текущие решения |
| :--- | :--- | :--- | :--- |
| Быстрая, надёжная и масштабируемая передача сообщений | Высокий | При высокой нагрузке существующие системы дают задержки. Сбои в сети приводят к потере сообщений. Нет интеграции с корпоративными сервисами, отсутствуют кастомные правила обмена. | Общедоступные мессенджеры дают базовый функционал, но не подходят для корпоративных задач |
| Гарантированная доставка сообщений при временной потере связи | Средний | Большинство систем не поддерживают механизмы офлайн-доставки | Некоторые системы хранят сообщения на сервере, но с ограничениями |
| Централизованное администрирование | Высокий | Контроль доступа, блокировки, ограничения контента реализованы слабо | Используют внешние системы — неудобно |
| Интеграция с внешними компонентами | Средний | Существующие решения ограничены или закрыты | Часто требуется кастомная разработка |

### Задачи уровня пользователя
| Категория пользователя | Цели использования |
| :--- | :--- |
| **Обычный пользователь** | Регистрация и авторизация, подключение к системе, отправка и получение сообщений, просмотр статуса других пользователей. |
| **Администратор** | Управление пользователями, блокировки, удаление аккаунтов, просмотр журналов активности, мониторинг системы. |
| **Внешние системы** | **Система аналитики:** сбор статистики сообщений. <br> **Система логирования:** запись событий. <br> **БД:** хранение пользователей и сообщений. |

### Окружение
Система работает в клиент-серверной архитектуре,
поддерживаются мобильные и настольные клиенты,
обмен выполняется по протоколу TCP/WebSocket/HTTP API,
база данных является внешним компонентом.

## Обзор
Документ служит исходной точкой для разработки:
*   **Диаграмм прецедентов,**
*   **Модели предметной области,**
*   **Бизнес-правил,**
*   **Архитектурных решений,**
*   **Диаграмм последовательности и классов.**

### Перспективы продукта 
Внедрение групповых чатов,
шифрование end-to-end,
мультимедийные вложения,
бот-интеграции,
корпоративные интеграции (CRM, ERP),
аналитические панели,
автоматическая модерация.

## Обзор

### Перспективы продукта 

Система Messenger **EchoRatniy** обычно будет устанавливаться на рабочих станциях внутри компаний, а также на мобильных устройствах сотрудников. При использовании мобильных клиентов, приложение будет функционировать как внутри корпоративной сети, так и вне её — при подключении через интернет.
Система будет обслуживать пользователей и взаимодействовать с внешними сервисами, как показано на рис. Видение 1.
Диаграмма строится на основе диаграммы прецедентов.
Контекстные диаграммы можно строить в различных форматах с разной степенью детализации, но все они отражают взаимодействие внешних исполнителей с системой.

Контекстная диаграмма
![Диаграмма архитектуры Messenger](https://github.com/penamarth/bsbo-02-23_team1_var4_messenger/blob/main/pic1.png?raw=true)

Рис. Видение 1. Контекстная диаграмма Messenger EchoRatniy.

### Преимущества системы 
Подобно перечню исполнителей и их задач, в этой таблице указаны задачи, их решения и преимущества, однако на более высоком уровне, чем при описании прецедентов.
Здесь описывается основное значение и отличительные свойства продукта

Вот данные, оформленные в таблицу:

| Преимущество | Ценность для заинтересованного лица |
| :--- | :--- |
| **Многофункциональная коммуникация** | Поддержка мгновенного обмена сообщениями, групповых чатов, каналов, пересылки файлов. |
| **Быстрая и стабильная связь** | Обеспечение быстрой и стабильной коммуникации внутри организации. |
| **Отказоустойчивость и синхронизация** | Автоматическое выявление проблем соединения, переход в офлайн-режим с последующей синхронизацией. Возможность продолжать работу даже при отсутствии сети. |
| **Гибкость и адаптивность** | Подключаемые бизнес-правила (ограничения пересылки, политики безопасности, кастомные фильтры). Гибкая адаптация системы под правила конкретной компании. |
| **Интеграция и аналитика** | Интерактивное взаимодействие с внешними сервисами через стандартизированные API. Точное и своевременное ведение журналов, отчётов, аудита и аналитики. |

## Основные свойства системы
Как было упомянуто выше, свойства системы описываются сжато путем перечисления основных функций:
*   **Личные сообщения.**
*   **Групповые чаты, каналы, диалоги 1-к-многим.**
*   **Передача файлов, изображений, документов.**
*   **Авторизация пользователей** (по токену, через внешние сервисы).
*   **Администрирование системы:** роли, права, бан, логирование.
*   **Поддержка офлайн-режима** с автоматической синхронизацией.
*   **Интеграция с внешними системами** (аналитика, антиспам, хранилища).
*   **Возможность подключения кастомных бизнес-правил.**

## Другие требования и ограничения 
Ограничения процесса проектирования, требования к интерфейсу, удобству использования, отказоустойчивости, масштабируемости и документации описаны в дополнительной спецификации и модели прецедентов.
